
generator client {
  provider = "prisma-client"
  output   = "../lib/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model channel {
  id String @id @default(uuid())
  name String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  //foreign keys(kinde Ids)
  workspaceId String // References workspace(id)
  createdById String  // References user(id)

  messages Message[]   // One-to-many relationship with Message model

  @@unique([workspaceId, name])
}

model Message {
  id String @id @default(uuid())
  content String
  imageUrl String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  authorId String
  authorEmail String
  authorName String
  authorAvatar String

  channelId String? // References channel(id)
  channel channel? @relation(fields: [channelId], references: [id])   // Many-to-one relationship with channel model
}